(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(n,e,t){n.exports=t(384)},165:function(n,e,t){},166:function(n,e,t){},204:function(n,e){},217:function(n,e){},219:function(n,e){},383:function(n,e,t){},384:function(n,e,t){"use strict";t.r(e);var o=t(2),a=t.n(o),c=t(158),r=t.n(c),i=(t(165),t(166),function(n){var e=n.onClick,t=n.text;return a.a.createElement("button",{onClick:e},t)}),s=t(87),u=t.n(s),d={url:"http://127.0.0.1:8765",request:function(n,e){return u.a.post(d.url,{action:n,version:6,params:e}).then(function(n){return n.data.result})},findNotes:function(n){return d.request("findNotes",{query:n})},notesInfo:function(n){return d.request("notesInfo",{notes:n})},addNotes:function(n){return d.request("addNotes",{notes:n})},deleteNotes:function(n){return d.request("deleteNotes",{notes:n})},findCards:function(n){return d.request("findCards",{query:n})},cardsInfo:function(n){return d.request("cardsInfo",{cards:n})},changeDecks:function(n,e){return d.request("changeDeck",{cards:n,deck:e})}},l=d,f={subs:"01 - \u65e5\u672c\u8a9e::01 - \u30ab\u30fc\u30c9::03 - subs_bank",listening:"01 - \u65e5\u672c\u8a9e::01 - \u30ab\u30fc\u30c9::01 - Listening",other:"01 - \u65e5\u672c\u8a9e::01 - \u30ab\u30fc\u30c9::02 - Other"},g={japanese:"Japanese"},h=t(159),m=function(){for(var n=document.getElementById("console-text"),e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];n.innerHTML+=t.join("<br />")+"<br />",t.map(function(n){return console.log(n)})},v='"note:Japanese" (card:3 OR card:4 or card:5 OR card:6 or card:7 or card:8 or card:9) -deck:"* Listening"',p='"note:Japanese" (card:1 OR card:2) -deck:"*Other"',w=function(n,e){l.findCards(n).then(function(n){m("found ".concat(n.length," cards to move to ").concat(e),"moving..."),l.changeDecks(n,e).then(function(n){m("cards moved")})})},k=function(){m("searching for misplaced cards..."),w(v,f.listening),w(p,f.other)},E=new(t.n(h).a),N=function(){m("running function..."),m("gathering notes..."),l.findNotes("tag:00change is:new").then(function(n){var e=n;0!==e.length?(m("".concat(e.length," notes gathered"),"pulling notes information..."),l.notesInfo(e).then(function(n){m("information pulled","creating new notes...");var t=[];n.forEach(function(n){E.searchForPhrase(n.fields.Note.value).then(function(e){var o=e.data[0],a=n.tags.filter(function(n){return"00change"!==n&&"01change"!==n}),c=o.japanese[0].word?"".concat(n.fields.Note.value,"[").concat(o.japanese[0].reading,"]"):"",r=e.data[0].senses.map(function(n){return n.english_definitions.join(", ")}).join("; "),i={deckName:f.subs,modelName:g.japanese,fields:{Vocabulary:n.fields.Note.value,"Vocabulary-Reading":c,Meaning:r,"Sentence-1":n.fields.Sentence.value,"Sentence-1-Reading":n.fields["Sentence-Reading"].value,"Sentence-1-English":n.fields.English.value,"Sentence-1-Audio":n.fields.Audio.value,"Sentence-1-Image":n.fields.Image.value},tags:a};m("...","new note","term: ".concat(i.fields.Vocabulary),"meaning: ".concat(i.fields.Meaning),"sentence: ".concat(i.fields["Sentence-1"]),"english: ".concat(i.fields["Sentence-1-English"]),"tags: ".concat(i.tags.join(", "))),t.push(i)}).then(function(n){t.length===e.length&&(m("...","created ".concat(t.length," new notes"),"sending to Anki..."),l.addNotes(t).then(function(n){m("".concat(n.length," notes added")),k(),m("deleting old notes..."),l.deleteNotes(e).then(function(n){m("".concat(e.length," notes deleted"))})}))}).catch(function(n){return m(n)})})})):m("no notes found","ending function","")})},b=(t(383),function(){return a.a.createElement("div",{id:"console-view"},a.a.createElement("p",{id:"console-text"}))}),q=function(){return a.a.createElement("div",{id:"functions-view"},a.a.createElement("p",{style:{marginBottom:0}},"Scripts"),a.a.createElement(i,{onClick:function(){return N()},text:"00change"}),a.a.createElement(i,{onClick:function(){return k()},text:"correct decks"}),a.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})}},[[160,1,2]]]);
//# sourceMappingURL=main.53d82b02.chunk.js.map